(this["webpackJsonppdf-editor"]=this["webpackJsonppdf-editor"]||[]).push([[0],{147:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=147},378:function(e,t,a){e.exports=a(379)},379:function(e,t,a){"use strict";a.r(t);a(380);a(381)},381:function(e,t,a){"use strict";a.r(t);var n=a(335),r=a(134),o=a.n(r),l=a(220),c=a(37),i=a(0),u=a.n(i),s=a(28),m=a.n(s),d=a(768),g=a(769),p=a(778),h=a(771),f=a(33),b=a(772),v=a(773),E=a(72),x=a(362),y=a(775),j=a(224),O=a(222),w=a(95),k=a(363),S=a(365),C=a(366),N=a(112),P=a(364),z=a(113),T=a(770),A=a(774),I=a(223),R=a(776),D=a(360),Y=a(135),F=a(221);function M(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),r=t[0],s=t[1],m=Object(i.useState)("Watermark"),M=Object(c.a)(m,2),W=M[0],B=M[1],H=Object(i.useState)(),L=Object(c.a)(H,2),G=L[0],J=L[1],U=Object(i.useState)("#FF0000"),X=Object(c.a)(U,2),_=X[0],q=X[1],K=Object(i.useState)({width:600,height:600}),Q=Object(c.a)(K,2),V=Q[0],Z=Q[1],$=Object(i.useState)(!1),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],ne=Object(i.useState)(40),re=Object(c.a)(ne,2),oe=re[0],le=re[1],ce=Object(i.useState)(.3),ie=Object(c.a)(ce,2),ue=ie[0],se=ie[1],me=Object(i.useState)(45),de=Object(c.a)(me,2),ge=de[0],pe=de[1],he=Object(i.useState)({x:V.height/2-oe,y:V.width/2-ft(W,oe)/2-oe*Math.sin(ge*(Math.PI/180))}),fe=Object(c.a)(he,2),be=fe[0],ve=fe[1],Ee=Object(i.useState)(!1),xe=Object(c.a)(Ee,2),ye=xe[0],je=xe[1],Oe=Object(i.useState)(!1),we=Object(c.a)(Oe,2),ke=we[0],Se=we[1],Ce=Object(i.useState)("Geleverd aan"),Ne=Object(c.a)(Ce,2),Pe=Ne[0],ze=Ne[1],Te=Object(i.useState)("#000000"),Ae=Object(c.a)(Te,2),Ie=Ae[0],Re=Ae[1],De=Object(i.useState)(11),Ye=Object(c.a)(De,2),Fe=Ye[0],Me=Ye[1],We=Object(i.useState)(!1),Be=Object(c.a)(We,2),He=Be[0],Le=Be[1],Ge=Object(i.useState)({x:V.width/2-ft(Pe,Fe)/2,y:0}),Je=Object(c.a)(Ge,2),Ue=Je[0],Xe=Je[1],_e=Object(i.useState)(""),qe=Object(c.a)(_e,2),Ke=qe[0],Qe=qe[1],Ve=Object(i.useState)(0),Ze=Object(c.a)(Ve,2),$e=Ze[0],et=Ze[1],tt=Object(i.useState)(""),at=Object(c.a)(tt,2),nt=at[0],rt=at[1];Object(i.useEffect)((function(){!function(){gt.apply(this,arguments)}()}),[G]);var ot=Object(i.useState)({open:!1,files:[]}),lt=Object(c.a)(ot,2),ct=lt[0],it=lt[1];Y.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Y.pdfjs.version,"/pdf.worker.js");var ut=Object(P.a)({wrap:{wordBreak:"break-all"},height:{height:"100vh",maxHeight:"100vh"},pdfPage:{border:"solid #898989",borderWidth:"8px"}}),st=Object(P.a)({color:{width:"32px",height:"18px",borderRadius:"2px",background:"".concat(_)},defaultTextColor:{width:"32px",height:"18px",borderRadius:"2px",background:"".concat(Ie)},swatch:{padding:"2px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}),mt=ut(),dt=st();function gt(){return(gt=Object(l.a)(o.a.mark((function e(){var t,a,n,l,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>0)){e.next=10;break}return e.next=3,r[G].arrayBuffer();case 3:return t=e.sent,e.next=6,z.PDFDocument.load(t);case 6:a=e.sent,n=a.getPage(0),l=n.getSize(),n.getRotation().angle%180===0?(c=600/l.width,i=l.height*c,Z({width:600,height:i})):(c=600/l.height,i=l.width*c,Z({width:600,height:i}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(){it({open:!ct.open})}function ht(){return(ht=Object(l.a)(o.a.mark((function e(){var t,l,c,i,u,s,m,d,g,p,h,f,b,v,E,x,y,j,O,w,k,S;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>0)){e.next=25;break}return e.next=3,r[G].arrayBuffer();case 3:return t=e.sent,e.next=6,z.PDFDocument.load(t);case 6:if(l=e.sent,!ke){e.next=18;break}for(i in c=Ke.split(" ").join(""),c=Ke.split(","))isNaN(c[i])||""===c[i]||Number(c[i]>l.getPageCount())?c.splice(i,1):c[i]=Number(c[i]);if(!($e+c.length>=l.getPageCount())){e.next=14;break}return console.log("invalid input"),e.abrupt("return");case 14:for(u=[];u.length<$e;)s=Math.floor(Math.random()*l.getPageCount())+1,-1===u.indexOf(s)&&-1===c.indexOf(s)&&u.push(s);for(u.sort((function(e,t){return t-e})),m=0,d=u;m<d.length;m++)g=d[m],l.removePage(g-1);case 18:p=Object(n.a)(l.getPages());try{for(p.s();!(h=p.n()).done;)f=h.value,b=void 0,f.getRotation().angle%180===0?(b=600/f.getSize().width,console.log("width ".concat(f.getSize().width))):(b=600/f.getSize().height,console.log("height ".concat(f.getSize().width))),v={type:z.RotationTypes.Degrees,angle:ge+f.getRotation().angle},E={type:z.RotationTypes.Degrees,angle:f.getRotation().angle},x=bt(f),y=x.x,j=x.y,O=vt(f),w=O.defaultTextX,k=O.defaultTextY,console.log("ratio ".concat(b)),console.log("x ".concat(w/b)),console.log("y ".concat(k/b)),f.drawText(Pe,{x:w/b,y:k/b,lineHeight:Fe/b,color:Et(Ie),size:Fe/b,rotate:E}),ye&&f.drawText(W,{x:y/b,y:j/b,opacity:ue,color:Et(_),lineHeight:oe/b,rotate:v,size:oe/b})}catch(o){p.e(o)}finally{p.f()}return 0!==nt.length&&l.encrypt({ownerPassword:nt,userPassword:nt,permissions:{modifying:!0}}),e.next=23,l.save();case 23:S=e.sent,a(764)(S,r[G].name,"application/pdf");case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t){var a=document.createElement("canvas").getContext("2d");return a.font=t||getComputedStyle(document.body).font,a.measureText(e).width}function bt(e){var t,a,n=ge*(Math.PI/180);return e.getRotation().angle%180===0?(t=be.x+oe*Math.cos(n),a=V.height-be.y+oe*Math.sin(n)):(t=be.y+oe*Math.cos(n),a=be.x+oe*Math.sin(n)),{x:t,y:a}}function vt(e){var t,a;return e.getRotation().angle%180===0?(t=Ue.x,a=V.height-Ue.y-Fe):(t=Ue.y+Fe,a=Ue.x),{defaultTextX:t,defaultTextY:a}}function Et(e){var t=parseInt(e.substring(1,3),16)/255,a=parseInt(e.substring(3,5),16)/255,n=parseInt(e.substring(5,7),16)/255;return Object(z.rgb)(t,a,n)}return u.a.createElement(f.a,{component:"div",style:{width:"100%"}},u.a.createElement(f.a,{width:1280,style:{margin:"0 auto"}},u.a.createElement(b.a,{position:"static"},u.a.createElement(v.a,null,u.a.createElement(E.a,{variant:"h6",color:"inherit"},"AlbersenIC"))),u.a.createElement(f.a,{component:"div",display:"inline-block"},u.a.createElement(f.a,{component:"div",display:"inline-block",style:{verticalAlign:"top",backgroundColor:"#898989",minHeight:"600px"},width:300,marginRight:2},u.a.createElement(x.a,{startIcon:u.a.createElement(A.a,null),fullWidth:!0,variant:"contained",color:"secondary",onClick:pt},"Add PDF"),u.a.createElement(D.a,{open:ct.open,onSave:function(e){pt(),s(r.concat(e)),e.length>0&&isNaN(G)&&J(0)},acceptedFiles:["application/pdf"],filesLimit:500,showPreviews:!0,maxFileSize:5e9,onClose:pt}),u.a.createElement(y.a,{style:{maxHeight:"600px",overflow:"auto"}},r.map((function(e,t){return u.a.createElement(d.a,{key:t,divider:!0,button:!0,onClick:function(){return J(t)},selected:G===t},u.a.createElement(g.a,null,u.a.createElement(p.a,null,u.a.createElement(T.a,null))),u.a.createElement(h.a,{className:mt.wrap,primary:e.name,secondary:"Size: "+e.size}))})))),u.a.createElement(f.a,{component:"div",display:"inline-block",style:{verticalAlign:"top"},width:648},u.a.createElement(f.a,null,u.a.createElement(f.a,{position:"absolute",zIndex:-1,className:mt.pdfPage},u.a.createElement(Y.Document,{file:r[G]},u.a.createElement(Y.Page,{pageNumber:1,width:V.width}))),u.a.createElement(f.a,{position:"absolute",className:mt.pdfPage},u.a.createElement(N.Stage,{height:V.height,width:V.width},u.a.createElement(N.Layer,null,u.a.createElement(N.Text,{text:Pe,draggable:!0,fontSize:Fe,fill:Ie,x:Ue.x,y:Ue.y,onDragEnd:function(e){Xe({x:e.target.x(),y:e.target.y()})}})),ye?u.a.createElement(N.Layer,null,u.a.createElement(N.Text,{text:W,draggable:!0,fontSize:oe,opacity:ue,fill:_,x:be.x,y:be.y,rotation:-ge,onDragEnd:function(e){ve({x:e.target.x(),y:e.target.y()})}})):null)))),u.a.createElement(f.a,{component:"div",display:"inline-block",style:{verticalAlign:"top"},width:300,marginLeft:2},u.a.createElement(j.a,{expanded:!0},u.a.createElement(O.a,{expandIcon:u.a.createElement(I.a,null)},"Geleverd aan"),u.a.createElement(f.a,{padding:2,style:{backgroundColor:"#AAAAAA"}},u.a.createElement(f.a,{display:"inline",marginY:2},u.a.createElement(E.a,{variant:"subtitle2"},"Text color "),u.a.createElement("div",{className:dt.swatch,onClick:function(){Le(!He)}},u.a.createElement("div",{className:dt.defaultTextColor})),He?u.a.createElement("div",{className:dt.popover},u.a.createElement("div",{className:dt.cover,onClick:function(){Le(!He)}}),u.a.createElement(F.SketchPicker,{color:Ie,onChange:function(e){return Re(e.hex)}})):null),u.a.createElement(f.a,{marginY:2},u.a.createElement(w.a,{label:"Text Size",size:"small",variant:"outlined",value:Fe,onChange:function(e){var t=Number(e.target.value);!isNaN(t)&&t<101&&Me(t)}})),u.a.createElement(f.a,{marginY:2},u.a.createElement(w.a,{size:"small",label:"Text",variant:"outlined",value:Pe,placeholder:"Text to show",multiline:!0,onChange:function(e){return ze(e.target.value)}})))),u.a.createElement(j.a,null,u.a.createElement(O.a,{expandIcon:u.a.createElement(I.a,null)},u.a.createElement(k.a,{"aria-label":"Watermark",onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:u.a.createElement(S.a,{checked:ye,onChange:function(e){return je(e.target.checked)}}),label:"Watermark"})),u.a.createElement(f.a,{padding:2,style:{backgroundColor:"#898989"}},u.a.createElement(f.a,null,u.a.createElement(E.a,{variant:"subtitle2"},"Watermark Color"),u.a.createElement("div",{className:dt.swatch,onClick:function(){ae(!te)}},u.a.createElement("div",{className:dt.color})),te?u.a.createElement("div",{className:dt.popover},u.a.createElement("div",{className:dt.cover,onClick:function(){ae(!te)}}),u.a.createElement(F.SketchPicker,{color:_,onChange:function(e){return q(e.hex)}})):null),u.a.createElement(f.a,{marginY:2},u.a.createElement(w.a,{size:"small",label:"Watermark Size",variant:"outlined",value:oe,onChange:function(e){var t=Number(e.target.value);!isNaN(t)&&t<101&&le(t)}})),u.a.createElement(f.a,{marginY:2},u.a.createElement(w.a,{label:"watermark",size:"small",variant:"outlined",value:W,placeholder:"Text to show",multiline:!0,onChange:function(e){return B(e.target.value)}})),u.a.createElement(f.a,{marginY:2},u.a.createElement(E.a,{variant:"subtitle2"},"Opacity"),u.a.createElement(C.a,{value:ue,min:.05,step:.001,max:1,onChange:function(e,t){se(t)}})),u.a.createElement(f.a,{marginY:2},u.a.createElement(E.a,{variant:"subtitle2"},"Rotation"),u.a.createElement(C.a,{value:ge,min:0,step:45,marks:!0,max:360,onChange:function(e,t){pe(t)}})))),u.a.createElement(j.a,null,u.a.createElement(O.a,{expandIcon:u.a.createElement(I.a,null)},u.a.createElement(k.a,{"aria-label":"Page Remove",onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:u.a.createElement(S.a,{checked:ke,onChange:function(e){return Se(e.target.checked)}}),label:"Page Remove"})),u.a.createElement(f.a,{padding:2,style:{backgroundColor:"#898989"}},u.a.createElement(f.a,{marginY:2},u.a.createElement(w.a,{label:"Important pages",size:"small",variant:"outlined",value:Ke,placeholder:"1,2,3",multiline:!0,helperText:"write pages separated by coma such: 1,2,3",onChange:function(e){return Qe(e.target.value)}})),u.a.createElement(f.a,{marginY:2},u.a.createElement(w.a,{label:"Number of Pages to remove",size:"small",variant:"outlined",value:$e,placeholder:"Number of page",multiline:!0,helperText:"Write how many page to remove",onChange:function(e){var t=Number(e.target.value);isNaN(t)||et(t)}})))),u.a.createElement(f.a,{padding:2,style:{backgroundColor:"#AAAAAA"},visibility:"hidden"},u.a.createElement(f.a,{marginY:2},u.a.createElement(w.a,{label:"Password",size:"small",variant:"outlined",value:nt,onChange:function(e){var t=String(e.target.value);rt(t)}}))),u.a.createElement(f.a,{marginTop:3,marginBottom:3},u.a.createElement(x.a,{startIcon:u.a.createElement(R.a,null),fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return ht.apply(this,arguments)}},"Save PDF"))))))}t.default=M,document.getElementById("root")&&m.a.render(u.a.createElement(M,null),document.getElementById("root"))},441:function(e,t){},443:function(e,t){},454:function(e,t){},456:function(e,t){},483:function(e,t){},485:function(e,t){},486:function(e,t){},492:function(e,t){},494:function(e,t){},512:function(e,t){},515:function(e,t){},531:function(e,t){},534:function(e,t){},567:function(e,t){},569:function(e,t){},570:function(e,t){},571:function(e,t){},572:function(e,t){}},[[378,1,2]]]);
//# sourceMappingURL=main.32db55c9.chunk.js.map